<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DesktopDigitizer6: DDCalibAmp Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DesktopDigitizer6
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classDDCalibAmp-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">DDCalibAmp Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="DDCalibAmp_8hh_source.html">DDCalibAmp.hh</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for DDCalibAmp:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classDDCalibAmp.png" usemap="#DDCalibAmp_map" alt=""/>
  <map id="DDCalibAmp_map" name="DDCalibAmp_map">
<area href="classDDCalibBase.html" title="Base class for the calibration procedure. " alt="DDCalibBase" shape="rect" coords="0,56,87,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDDCalibAmp_1_1AmpPeak.html">AmpPeak</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab0ced48a275c06a54effeb9b87181790"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDDCalibAmp.html#ab0ced48a275c06a54effeb9b87181790">DDCalibAmp</a> (Int_t npeaks)</td></tr>
<tr class="separator:ab0ced48a275c06a54effeb9b87181790"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a546905bed7d619c6d1727a591f3d97f4"><td class="memItemLeft" align="right" valign="top"><a id="a546905bed7d619c6d1727a591f3d97f4"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDDCalibAmp.html#a546905bed7d619c6d1727a591f3d97f4">~DDCalibAmp</a> ()</td></tr>
<tr class="memdesc:a546905bed7d619c6d1727a591f3d97f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Standard destructor. <br /></td></tr>
<tr class="separator:a546905bed7d619c6d1727a591f3d97f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27b79fcd2d741ae3af62c30d566e680d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDDCalibAmp.html#a27b79fcd2d741ae3af62c30d566e680d">AddPeak</a> (Int_t nPE, Float_t cutMin, Float_t cutMax)</td></tr>
<tr class="separator:a27b79fcd2d741ae3af62c30d566e680d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaed68709064463caefe3efcc611fd369"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDDCalibAmp.html#aaed68709064463caefe3efcc611fd369">Calibrate</a> (TTree *tree, Int_t ch, TFile *file=0)</td></tr>
<tr class="separator:aaed68709064463caefe3efcc611fd369"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b6652944e6a60b48be2cace603fefe9"><td class="memItemLeft" align="right" valign="top"><a id="a3b6652944e6a60b48be2cace603fefe9"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDDCalibAmp.html#a3b6652944e6a60b48be2cace603fefe9">Print</a> (void)</td></tr>
<tr class="memdesc:a3b6652944e6a60b48be2cace603fefe9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints details of the <a class="el" href="classDDCalibAmp.html">DDCalibAmp</a> class object. <br /></td></tr>
<tr class="separator:a3b6652944e6a60b48be2cace603fefe9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30c1d94b5cfbb97c5b4e6b8816cc448e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDDCalibAmp.html#a30c1d94b5cfbb97c5b4e6b8816cc448e">Validate</a> (void) const</td></tr>
<tr class="separator:a30c1d94b5cfbb97c5b4e6b8816cc448e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classDDCalibBase"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classDDCalibBase')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classDDCalibBase.html">DDCalibBase</a></td></tr>
<tr class="memitem:aa8ec40b77d043bedf08b9f339f1f0ade inherit pub_methods_classDDCalibBase"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDDCalibBase.html#aa8ec40b77d043bedf08b9f339f1f0ade">DDCalibBase</a> (Int_t npeaks)</td></tr>
<tr class="separator:aa8ec40b77d043bedf08b9f339f1f0ade inherit pub_methods_classDDCalibBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14ba4c524e6c31724645e72e573ffb78 inherit pub_methods_classDDCalibBase"><td class="memItemLeft" align="right" valign="top"><a id="a14ba4c524e6c31724645e72e573ffb78"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDDCalibBase.html#a14ba4c524e6c31724645e72e573ffb78">~DDCalibBase</a> ()</td></tr>
<tr class="memdesc:a14ba4c524e6c31724645e72e573ffb78 inherit pub_methods_classDDCalibBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Standard destructor. <br /></td></tr>
<tr class="separator:a14ba4c524e6c31724645e72e573ffb78 inherit pub_methods_classDDCalibBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a82ed21032f28a3d3c3b2b23790db5de0"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structDDCalibAmp_1_1AmpPeak.html">AmpPeak</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDDCalibAmp.html#a82ed21032f28a3d3c3b2b23790db5de0">fPeaks</a></td></tr>
<tr class="separator:a82ed21032f28a3d3c3b2b23790db5de0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_attribs_classDDCalibBase"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classDDCalibBase')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classDDCalibBase.html">DDCalibBase</a></td></tr>
<tr class="memitem:a7a9fe82d19fb0ca88908dbc8613c505e inherit pro_attribs_classDDCalibBase"><td class="memItemLeft" align="right" valign="top"><a id="a7a9fe82d19fb0ca88908dbc8613c505e"></a>
const Int_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDDCalibBase.html#a7a9fe82d19fb0ca88908dbc8613c505e">fNPeaks</a></td></tr>
<tr class="memdesc:a7a9fe82d19fb0ca88908dbc8613c505e inherit pro_attribs_classDDCalibBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of peaks for calibration. <br /></td></tr>
<tr class="separator:a7a9fe82d19fb0ca88908dbc8613c505e inherit pro_attribs_classDDCalibBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p class="">Class responsible for the PE calibration of the charge spectra. In this method cuts are imposed on the charge spectrum based on the amplitude spectrum. Gaussian function is fitted to every cut charge spectrum. Mean of the fitted Gauss is then plotted as a function of PE numbers corresponding to the peak. Calibration factor is determined in two ways:</p><ul>
<li>based on the linear fit to the peak mean vs. PE graph</li>
<li>as a mean distance between subsequent peaks. </li>
</ul>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab0ced48a275c06a54effeb9b87181790"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0ced48a275c06a54effeb9b87181790">&#9670;&nbsp;</a></span>DDCalibAmp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DDCalibAmp::DDCalibAmp </td>
          <td>(</td>
          <td class="paramtype">Int_t&#160;</td>
          <td class="paramname"><em>npeaks</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p class="">Standard constructor </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">npeaks</td><td>- number of peaks for the cilbration </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a27b79fcd2d741ae3af62c30d566e680d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27b79fcd2d741ae3af62c30d566e680d">&#9670;&nbsp;</a></span>AddPeak()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DDCalibAmp::AddPeak </td>
          <td>(</td>
          <td class="paramtype">Int_t&#160;</td>
          <td class="paramname"><em>nPE</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Float_t&#160;</td>
          <td class="paramname"><em>cutMin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Float_t&#160;</td>
          <td class="paramname"><em>cutMax</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Adds peak to the fPeaks vector, used for the calibration procedure. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nPE</td><td>- number of photoelectrons corresponding to the peak </td></tr>
    <tr><td class="paramname">cutMin</td><td>- lower range of the peak </td></tr>
    <tr><td class="paramname">cutMax</td><td>- upper range of the peak. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aaed68709064463caefe3efcc611fd369"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaed68709064463caefe3efcc611fd369">&#9670;&nbsp;</a></span>Calibrate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Bool_t DDCalibAmp::Calibrate </td>
          <td>(</td>
          <td class="paramtype">TTree *&#160;</td>
          <td class="paramname"><em>tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Int_t&#160;</td>
          <td class="paramname"><em>ch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TFile *&#160;</td>
          <td class="paramname"><em>file</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p class="">Performs PE calibration based on the cuts on the amplitude spectrum. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tree</td><td>- tree containing calibration measurement </td></tr>
    <tr><td class="paramname">ch</td><td>- channel number </td></tr>
    <tr><td class="paramname">file</td><td>- ROOT output file, where calibration results are saved. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classDDCalibBase.html#ad389768f6d4d7109f2a44783396dc931">DDCalibBase</a>.</p>

</div>
</div>
<a id="a30c1d94b5cfbb97c5b4e6b8816cc448e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30c1d94b5cfbb97c5b4e6b8816cc448e">&#9670;&nbsp;</a></span>Validate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool DDCalibAmp::Validate </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p class="">Checks whether the <a class="el" href="classDDCalibAmp.html">DDCalibAmp</a> class object has been created correctly. </p>

<p>Implements <a class="el" href="classDDCalibBase.html#a0b70b904f538127d45780d151ffca658">DDCalibBase</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a82ed21032f28a3d3c3b2b23790db5de0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82ed21032f28a3d3c3b2b23790db5de0">&#9670;&nbsp;</a></span>fPeaks</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structDDCalibAmp_1_1AmpPeak.html">AmpPeak</a>&gt; DDCalibAmp::fPeaks</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p class="">Vector containing all the peaks in the amplitude <br />
 spectrum for the calibration procedure </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/<a class="el" href="DDCalibAmp_8hh_source.html">DDCalibAmp.hh</a></li>
<li>src/DDCalibAmp.cc</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
